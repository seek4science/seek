<%
  entity = openbis_experiment_card
  extra ||= nil
  extra_params ||= nil

%>
<div class="col-md-3 openbis-card">
  <div class='panel panel-default'>
    <div class='openbis-card-heading'>
       <span>
        <%= entity.perm_id %>
       </span>
    </div>
    <div class='panel-body'>
      <%= render partial: 'openbis_common/obis_attr_list', locals: { entity: entity } %>
      <%= render partial: 'openbis_common/obis_prop_list', locals: { entity: entity } %>

      <% if entity.dataset_ids %>
          <%= list_item_attribute('Datasets', text_or_not_specified(entity.dataset_ids.join(', '), none_text: 'None')) %>
      <% end %>
      <%= render partial: 'openbis_common/registered_link_item', locals: { entity: entity } %>

      <%= link_to('Show/Register', edit_openbis_endpoint_openbis_experiment_path(@openbis_endpoint, entity.perm_id)) %>
      <%= render partial: extra, locals: { entity: entity, extra_params: extra_params } if extra %>
    </div>
  </div>

</div>